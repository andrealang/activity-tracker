---

copyright:
  years: 2021
lastupdated: "2021-04-09"

keywords: IBM Cloud, Activity Tracker, alerts, events

subcollection: activity-tracker

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:codeblock: .codeblock}
{:tip: .tip}
{:download: .download}
{:important: .important}
{:note: .note}

# Generating alerts on {{site.data.keyword.cloud_notm}} configuration changes
{: #alerts_configuration}

{{site.data.keyword.at_full}} lets you create alerts when services are created, modified, and deleted.  These alerts can be limited to specific resources, or can apply to any services offered within the {{site.data.keyword.cloud_notm}}.  Service notification changes can be enhanced with activity tracking data obtained from the {{site.data.keyword.cloud_notm}} API.
{:shortdesc}

To create an alert for configuration changes you need to create a view within the service.  The view defines the data the alert will monitor and helps you visualize the data used to construct the alert.  Once your view is created, an alert based on the view data can be defined.

## Configuring alerts using the console

The following will generate an alert when a service instance is created, deleted, or updated.  These events are recorded in the Frankfurt region, regardless of the region of the service instance.

If you already have an instance in the Frankfurt region, you should use that existing instance.
{: note}

1. [Log in to your {{site.data.keyword.cloud_notm}} account](https://cloud.ibm.com/login){: external}.

	After you log in with your user ID and password, the {{site.data.keyword.cloud_notm}} UI opens.

2. Go to the menu icon ![Menu icon](../icons/icon_hamburger.svg). Then, select **Observability** to access the *Observability* dashboard.

3. Select **Activity Tracker**, then click **Create instance**. 

4. Enter a name for the service instance.

5. Select the **Frankfurt** location. 

6. Select a resource group. 

    By default, the **default** resource group is set.

    **Note:** If you are not able to select a resource group, check that you have editing permissions on the resource group where you want to provision the instance.

7. Select a service plan. 

8. Click **Create**.

   After you provision an instance, the *Activity Tracker* dashboard, that is located in the *Observability* section of the {{site.data.keyword.cloud_notm}} UI, opens. 

9. Open the {{site.data.keyword.at_full_notm}} instance by clicking **Open Dashboard**.

10. In the search bar at the bottom of the page enter `instance.create OR instance.delete OR instance.update`.  The view will now only display events when an instance was created, deleted, or updated.  The events in the view will be the events where alerts will be generated and will let you validate that these are the events you want alerted.

    Filtering on different configuration changes is also possible.  For example, filtering for operations on instances for specific services.  For example, you can filter on all {{site.data.keyword.keymanagementservicelong_notm}} instances by specifying `kms.instance`.  To filter when keys are created or deleted in {{site.data.keyword.keymanagementservicelong_notm}} specify `kms.secrets.create OR kms.secrets.delete`.     See the events generated by the services to determine what configuration changes you want to be alerted.  These events can be generated in any region, not just Frankfurt.
    {: tip}

11. Save the filter as a new view by clicking **Unsaved View** > **Save as new view**. Name the view, for example `Configuration Changes`.  For **Alert** select `View-specific alerts`.  Select the way the alert should be sent: for example, Slack, Email, Webhook, PagerDuty or Sysdig.

    For example, click **Email** and enter the email address of the alert recipient.  For example `user@mycompany.com`.

12. Click **Save View**.

The alert will trigger when a service instance is created, deleted, or updated in any region in your account.  An email will be sent to the designated email address.

## Configuring alerts using the API

{{site.data.keyword.at_full_notm}} also supports creating the configuration alerts using the API.

For example, the following will create the same alert as shown in the previous UI section.

```
curl https://api.eu-de.logging.cloud.ibm.com/v1/config/view \
        -H 'content-type: application/json' \
        -H 'servicekey: <SERVICE_KEY>' \
        -d '{
        "name": "Configuration Changes",
        "query": "instance.create OR instance.delete OR instance.update",
        "category": [],
        "channels": [{
            "integration": "email",
            "immediate": false,
            "terminal": true,
            "triggerlimit": 1,
            "triggerinterval": "30",
            "operator": "presence",
            "emails": ["user@mycompany.com"]
        }]}'
```
{: codeblock}

For more information on "Managing views and alerts programmatically", see [Managing views and alerts programmatically](/docs/activity-tracker?topic=activity-tracker-config_api).

You will create a view as well as an alert, even when using the API.
{: note}
