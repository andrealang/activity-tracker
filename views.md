---

copyright:
  years: 2019
lastupdated: "2019-05-25"

keywords: IBM Cloud, LogDNA, Activity Tracker, search, filter, events

subcollection: logdnaat

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:codeblock: .codeblock}
{:tip: .tip}
{:download: .download}
{:important: .important}
{:note: .note}


# Creating custom views
{: #views.md}

Through the {{site.data.keyword.at_full_notm}} web UI, you can apply search and filtering criteria to define the events that are displayed through a custom view.
{:shortdesc}


## Prerequisites
{: #views_prereqs}

Before you start, check that your user ID has permissions to launch the web UI and view events. The following table lists the minimum policies that a user must have to be able to launch the {{site.data.keyword.at_full_notm}} web UI, and view, search, and filter events:

| Role                      | Permission granted            |
|---------------------------|-------------------------------|  
| Platform role: `Viewer`     | Allows the user to view the list of service instances in the Observability dashboard. |
| Service role: `Reader`      | Allows the user to launch the web UI and view events in the web UI.  |
{: caption="Table 1. IAM policies" caption-side="top"} 

For more information on how to configure these policies for a user, see [Granting user permissions to a user or service ID](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-iam_view_events#iam_view_events).



## Step 1. Go to the web UI and select a view
{: #views_step1}

Complete the following steps:

1. [Go to the web UI](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-launch#launch).
2. Click the **Views** icon ![Configuration icon](images/views.png).
3. Select **Everything** or a view. 

## Step 2. Filter out events
{: #views_step2}

To search events, you can apply a search query and a time query. You configure these queries in a view.


3. Apply a search query in the search bar. 

    You can do simple searches (single term string search), compound search (multiple search terms and operators), field searches if the log line can be parsed, and others. For more information, see [How to Search Logs in LogDNA docs ![External link icon](../../icons/launch-glyph.svg "External link icon")](https://docs.logdna.com/docs/search){:new_window}.

    AND and OR operators are case-sensitive and must be capitalized.
    {: note}

4. Apply a time query.

As you apply a query, notice that the name of the view changes to **Unsaved View**.

### Query for events that are generated by a service
{: #views_step1_1}

To filter out events for a specific service, you need to enter the following query:

```
_supertenant:SERVICENAME
```
{: codeblock}

Where `SERVICENAME` is the name of the service in the {{site.data.keyword.cloud_notm}}.

The following table lists core services:

| Events that are generated by               | Value                         | Sample query                     |
|--------------------------------------------|-------------------------------|----------------------------------|
| [IAM Access Management service](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-at_events_iam#at_events_iam_policies)  | `iam-am`  | `_supertenant:iam-am`    |
| [IAM Identity service](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-at_events_iam#at_events_iam_login)   | `iam-identity`    | `_supertenant:iam-identity`  |
| [IAM Access Groups service](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-at_events_iam#at_events_iam_access)   | `iam-groups`  | `_supertenant:iam-groups`     |
| [Resource controller service](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-cloud_services#platform_core_integrated)   | `BSS`  | `_supertenant:BSS`  |            
{: caption="Table 2. Query by service name" caption-side="top"}

### Query for sets of events that are generated by a service
{: #views_step1_2}

When a service generates different types of events, you can enter the following query:

```
_supertenant:SERVICENAME [(action TYPEOFACTION)] 
```
{: codeblock}

Where 

* `SERVICENAME` is the name of the service in the {{site.data.keyword.cloud_notm}}
* `TYPEOFACTION` is a compound query where you can use AND and OR operators, and also use `-` to exclude data. Notice that the `AND` and `OR` operators are case-sensitive and must be capitalized.


The following table show examples of how to query for a group of events that is generated by a service:

| Events that are generated by               | Type of events     |  Value                         | Sample query                     |
|--------------------------------------------|--------------------|--------------------------------|----------------------------------|
| `IAM Identity service`                     | [Login events](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-at_events_iam#at_events_iam_login)   | `iam-identity`    | `_supertenant:iam-identity (action login)`  |
| `IAM Identity service`                     | [API key events](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-at_events_iam#at_events_iam_apikeys)   | `iam-identity`    | `_supertenant:iam-identity (action user-apikey) -(action login)`  |
| `IAM Identity service`                     | [Account service ID events](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-at_events_iam#at_events_iam_serviceids)   | `iam-identity`    | `_supertenant:iam-identity (action account-serviceid)`  |
| `Resource controller`                      | [Provisioning and managing service instances](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-at_events_rc#rc_provision)   | `BSS`  | `_supertenant:BSS (action instance)`  | 
| `Resource controller`                      | [Managing users in the account](/docs/services/Activity-Tracker-with-LogDNA?topic=logdnaat-at_events_acc_mgt#at_events_acc_mgt_users)   | `BSS`  | `_supertenant:BSS (action user-management.user)`  |                   |
{: caption="Table 3. Samples of more complex queries" caption-side="top"}


### Query for events that have a specific action
{: #views_step1_3}

Each event has an **action** field that informs about the action that triggered the event. You can enter the following query to search for all events that have the same action:

```
action ACTIONVALUE
```
{: codeblock}

Where `ACTIONVALUE` is the value of the action field or part of the value.

The following table show examples of queries for different actions:

| Action                 | Sample query                     |
|------------------------|----------------------------------|
| Provision a service    | `action instance.create`         |
| Remove an instance     | `action instance.delete`         |
| Add a user             | `action user-management.user.create` |
{: caption="Table 4. Samples of queries by action type" caption-side="top"}



### Query for events whose action fails
{: #views_step1_4}

When an action requested fails, the field **outcome** is set to **failure**. You can enter the following query to search for these type of events:

```
outcome failure
```
{: codeblock}


### Query by event criticallity
{: #views_step1_4}

Each event has a **severity** field that defines the level of threat an action may have on the Cloud. 

Valid values are *normal*, *warning*, and *critical*. 
* **Normal** is set for routine actions in the Cloud. For example, starting an instance, or refreshing a token. 
* **Warning** is set for actions where a Cloud resource is updated or its metadata is modified. For example, updating the version of a worker node, renaming a certificate, or renaming a service instance. 
* **Critical** is set for actions that affect security in the Cloud. For example, changing credentials of a user, deleting data, unauthorized access to work with a Cloud resource.

You can enter the following query to search for these type of events:

```
severity VALUE
```
{: codeblock}

Where `VALUE` can be set to *normal*, *warning*, or *critical*

For example, to query for critical events, you can run the following query:

```
severity critical
```
{: codeblock}



## Step 3. Create a custom view
{: #views_step3}

After you apply a time frame, and search criteria to the **Everything** view or to an existing custom view, complete the following steps to save the outcome as a custom view:

1. In the web UI, click **Unsaved View**.
2. Select **Save as new view / alert**. The *Create new view* page opens.
3. Enter a name for the view in the *Name* field.
4. Optionally, add a category. Enter a name and then click **Add this as new view category**.
5. Optionally, attach an alert. A new section is displayed for you to configure the alert.
6. Click **Save View**




